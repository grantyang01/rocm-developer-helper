# Windows Setup Configuration
# Set to 1 to enable, 0 to disable

virtualization:
  enable: 1

wsl:
  enable: 1
  distro_name: "Ubuntu-24.04"

chocolatey:
  enable: 1

ssh:
  enable: 1

devtools:
  enable: 1
  # Git and P4 settings are configured in config.local.yaml (not committed to git)
  # Copy config.local.yaml.example to config.local.yaml and fill in your values
  
  visualstudio:
    # Visual Studio 2022 Community components (always includes recommended)
    # Installation is fully unattended (no GUI, no prompts) using --quiet --wait flags
    # Installation takes 30 minutes depending on components
    components:
      - "Microsoft.VisualStudio.Workload.NativeDesktop"
      - "Microsoft.VisualStudio.Workload.ManagedDesktop"
      - "Microsoft.VisualStudio.Workload.VisualStudioExtension"
      - "Microsoft.VisualStudio.Component.Windows11SDK.26100"
      - "Microsoft.VisualStudio.ComponentGroup.VC.Tools.142.x86.x64"
      - "Microsoft.VisualStudio.Component.VC.14.29.16.11.x86.x64.Spectre"
      - "Microsoft.Net.Component.4.8.TargetingPack"
      - "Microsoft.VisualStudio.Component.TextTemplating"
      - "Microsoft.VisualStudio.Component.DslTools"
      # Below are the component names and their corresponding IDs. The IDs may evolve, so always refer to the links above for the latest info.
      # Component ID reference documentation:
      #   https://learn.microsoft.com/en-us/visualstudio/install/workload-and-component-ids?view=vs-2022
      #   https://learn.microsoft.com/en-us/visualstudio/install/workload-component-id-vs-community?view=vs-2022&preserve-view=true
      #
      # Component name to ID mapping (IDs may evolve, always refer to the links above):
      #   Desktop development with C++                                                Microsoft.VisualStudio.Workload.NativeDesktop
      #   .NET desktop development                                                    Microsoft.VisualStudio.Workload.ManagedDesktop
      #   Visual Studio extension development                                         Microsoft.VisualStudio.Workload.VisualStudioExtension
      #   Windows 11 SDK (10.0.26100.3916)                                            Microsoft.VisualStudio.Component.Windows11SDK.26100
      #   MSVC v142 - VS 2019 C++ x64/x86 build tools (v14.29)                        Microsoft.VisualStudio.ComponentGroup.VC.Tools.142.x86.x64
      #   MSVC v142 - VS 2019 C++ x64/x86 Spectre-mitigated libs (v14.29-16.11)       Microsoft.VisualStudio.Component.VC.14.29.16.11.x86.x64.Spectre
      #   .NET Framework 4.8 targeting pack                                           Microsoft.Net.Component.4.8.TargetingPack
      #   Text Template Transformation                                                Microsoft.VisualStudio.Component.TextTemplating
      #   Modeling SDK                                                                Microsoft.VisualStudio.Component.DslTools

hipsdk:
  enable: 1
  rocm_branch: "release_rocm-rel-6.4"
  rocm_build: "76"
  rocm_path: "C:\\opt\\rocm"

gpu_interface:
  enable: 1

SHISA:
  enable: 1

  # SHISA root dir is configured in config.local.yaml

  # Subdirectories to add to PATH (relative to SHISA root)
  path_dirs:
    - 'bin'
    - 'tools\scripts'
    - 'testing'

  # path to the clang.exe
  SHISA_CLANG_BINARY: 'C:\Program Files\LLVM\bin\clang.exe'

  # target ELF ABI (PAL on Windows, HSA on Linux)
  SHISA_ELF_ABI: 'PAL'

  # target ASIC for SP3 and other tools
  SP3_ASIC: 'NAVI31'

  # preprocessor command (should be full path to exe + parameters for capture tools to work)
  SP3_PREPROCESSOR: 'C:\Strawberry\perl\bin\perl.exe %%SHISA%%\tools\scripts\preprocessor.pl'

  # path to the sp3 binary
  SP3_BINARY: '%%SHISA%%\bin\sp3.exe'

  # paths to sp3 include directories, separated by semicolon
  SP3_PREPROCESSOR_INCLUDE_DIRS: '%%SHISA%%\shader_dev_SSP\include;%%SHISA%%\shader_dev_IL\include;%%SHISA%%\shader_dev\include\lib'

  # path to a config file used by preprocessor
  SP3_PREPROCESSOR_CONFIG_FILE: '%%SHISA%%\sp3_config.log'

  # path to the ThreadTrace viewing tool (ThreadTraceView.exe) Version 0.7.9.13 or higher is recommended
  TT_VIEW_TOOL: 'C:\ThreadTraceViewer\ThreadTraceView.exe'

  # TT_OPTS is optional cli arg for ThreadTraceView. The env var is optional and could be blank or unset.
  # The intend is to suppress popup dialog when opening tracefile.
  # GFX9 and older traces require manual asic family selection with -a option
  # GFX10+ traces have this information embedded. TTraceView will not open a tracefile and show usage info instead as there is no valid selection for gfx10+ asics for -a option.
  #  gfx8 example setx TT_OPTS "-a VI"
  #  gfx9 example setx TT_OPTS "-a GFX9"
  #  gfx10+ example setx TT_OPTS "-nd"
  TT_OPTS: '-nd'

conductor:
  enable: 1
  # API key and reserve_it_root configured in config.local.yaml
  